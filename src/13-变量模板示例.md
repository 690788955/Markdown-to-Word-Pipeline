---
title: 变量模板示例
variables:
  project_name:
    description: 项目名称
    type: text
    default: XX系统
  
  version:
    description: 版本号
    type: text
    default: v1.0.0
  
  deploy_date:
    description: 部署日期
    type: date
    default: "2026-01-08"
  
  server_count:
    description: 服务器数量
    type: number
    min: 1
    max: 100
    default: 3
  
  environment:
    description: 部署环境
    type: select
    options:
      - 开发环境
      - 测试环境
      - 生产环境
    default: 生产环境
  
  contact_email:
    description: 联系邮箱
    type: text
    pattern: "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$"
    default: admin@example.com
---

# 变量模板功能示例

本文档演示了变量模板功能的使用方法。

## 项目信息

- **项目名称**: {{project_name}}
- **版本号**: {{version}}
- **部署日期**: {{deploy_date}}
- **部署环境**: {{environment}}

## 基础设施

本项目部署在 {{server_count}} 台服务器上，运行于{{environment}}。

### 服务器配置

| 序号 | 用途 | 环境 |
|------|------|------|
| 1 | 应用服务器 | {{environment}} |
| 2 | 数据库服务器 | {{environment}} |
| 3 | 缓存服务器 | {{environment}} |

## 联系方式

如有问题，请联系：{{contact_email}}

## 变量语法说明

### 基本语法

使用双大括号包裹变量名：`{{variable_name}}`

### 转义语法

如果需要在文档中显示字面的双大括号，使用反斜杠转义：

- 输入：`\{{不替换}}`
- 输出：{{不替换}}

### 变量类型

1. **text** - 文本类型，支持 pattern 正则验证
2. **number** - 数字类型，支持 min/max 范围验证
3. **date** - 日期类型，格式为 YYYY-MM-DD
4. **select** - 选择类型，从预定义选项中选择

### 变量声明示例

```yaml
variables:
  project_name:
    description: 项目名称
    type: text
    default: XX系统
  
  server_count:
    description: 服务器数量
    type: number
    min: 1
    max: 100
    default: 3
  
  deploy_date:
    description: 部署日期
    type: date
    default: "2026-01-08"
  
  environment:
    description: 部署环境
    type: select
    options:
      - 开发环境
      - 测试环境
      - 生产环境
    default: 生产环境
```

## 命令行使用

### Windows (PowerShell)

```powershell
.\build.ps1 -Client 标准文档 -Doc 变量示例 -Var "project_name=我的项目" -Var "version=v2.0"
```

### Linux/macOS (Bash)

```bash
./bin/build.sh -c 标准文档 -d 变量示例 -V "project_name=我的项目" -V "version=v2.0"
```

## Web 界面使用

1. 选择包含变量的文档模块
2. 在"变量设置"区域填写变量值
3. 点击"生成"按钮

---

*本文档由 {{project_name}} {{version}} 自动生成*
