# Markdown to Word Pipeline

ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„æ–‡æ¡£æ„å»ºç³»ç»Ÿï¼Œæ”¯æŒå°† Markdown æ–‡æ¡£æ¨¡å—ç»„åˆå¹¶è¾“å‡ºä¸º Word æ ¼å¼ï¼Œä¸ºä¸åŒå®¢æˆ·å®šåˆ¶æ’ç‰ˆã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ **æ¨¡å—åŒ–æ–‡æ¡£**: å°†æ–‡æ¡£æ‹†åˆ†ä¸ºç‹¬ç«‹çš„ Markdown æ¨¡å—ï¼ŒæŒ‰éœ€ç»„åˆ
- ğŸ¨ **å¤šå®¢æˆ·æ”¯æŒ**: ä¸ºä¸åŒå®¢æˆ·é…ç½®ä¸“å±çš„æ’ç‰ˆæ ·å¼å’Œå…ƒæ•°æ®
- ğŸ”§ **è‡ªåŠ¨åŒ–æ„å»º**: é€šè¿‡ Make å‘½ä»¤ä¸€é”®ç”Ÿæˆ Word æ–‡æ¡£
- ğŸš€ **CI/CD é›†æˆ**: æ”¯æŒ GitLab CI è‡ªåŠ¨æ„å»ºå’Œäº§ç‰©ç®¡ç†

## ç›®å½•ç»“æ„

```
project-root/
â”œâ”€â”€ Makefile                    # æ„å»ºå…¥å£
â”œâ”€â”€ README.md                   # é¡¹ç›®è¯´æ˜ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â”œâ”€â”€ CONTRIBUTING.md             # åä½œè§„èŒƒ
â”œâ”€â”€ CHANGELOG.md                # å˜æ›´æ—¥å¿—
â”œâ”€â”€ .gitignore                  # Git å¿½ç•¥è§„åˆ™
â”œâ”€â”€ .gitlab-ci.yml              # GitLab CI é…ç½®
â”‚
â”œâ”€â”€ src/                        # æ–‡æ¡£æºç ç›®å½•
â”‚   â”œâ”€â”€ metadata.yaml           # é»˜è®¤å…ƒæ•°æ®
â”‚   â”œâ”€â”€ 01-introduction.md      # ç« èŠ‚æ–‡ä»¶
â”‚   â”œâ”€â”€ 02-content.md           # ç« èŠ‚æ–‡ä»¶
â”‚   â””â”€â”€ images/                 # å›¾ç‰‡èµ„æº
â”‚
â”œâ”€â”€ clients/                    # å®¢æˆ·é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ default/                # é»˜è®¤é…ç½®
â”‚   â”‚   â”œâ”€â”€ config.yaml         # æ„å»ºé…ç½®
â”‚   â”‚   â””â”€â”€ metadata.yaml       # å…ƒæ•°æ®è¦†ç›–
â”‚   â””â”€â”€ example-client/         # ç¤ºä¾‹å®¢æˆ·
â”‚       â”œâ”€â”€ config.yaml
â”‚       â””â”€â”€ metadata.yaml
â”‚
â”œâ”€â”€ templates/                  # Word æ¨¡æ¿ç›®å½•
â”‚   â””â”€â”€ default.docx            # é»˜è®¤æ¨¡æ¿
â”‚
â””â”€â”€ build/                      # è¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

**Pandoc** (å¿…éœ€):
```bash
# Debian/Ubuntu
sudo apt install pandoc

# CentOS/RHEL
sudo yum install pandoc

# macOS
brew install pandoc
```

**Make** (å¿…éœ€):
```bash
# Debian/Ubuntu
sudo apt install make

# CentOS/RHEL
sudo yum install make

# macOS (é€šå¸¸å·²é¢„è£…)
xcode-select --install
```

### 2. åˆå§‹åŒ–é¡¹ç›®

```bash
# è®¾ç½®è„šæœ¬æ‰§è¡Œæƒé™
make init

# ç”Ÿæˆé»˜è®¤ Word æ¨¡æ¿
make init-template
```

### 3. æ„å»ºæ–‡æ¡£

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®æ„å»º
make

# æŒ‡å®šå®¢æˆ·é…ç½®æ„å»º
make client=example-client

# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help
```

### 4. æŸ¥çœ‹è¾“å‡º

æ„å»ºå®Œæˆåï¼ŒWord æ–‡æ¡£å°†ä¿å­˜åœ¨ `build/` ç›®å½•ä¸­ã€‚

## å¸¸ç”¨å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ |
|------|------|
| `make` | ä½¿ç”¨é»˜è®¤é…ç½®æ„å»º |
| `make client=<å®¢æˆ·å>` | ä½¿ç”¨æŒ‡å®šå®¢æˆ·é…ç½®æ„å»º |
| `make list-clients` | åˆ—å‡ºæ‰€æœ‰å¯ç”¨å®¢æˆ·é…ç½® |
| `make list-modules` | åˆ—å‡ºæ‰€æœ‰æ–‡æ¡£æ¨¡å— |
| `make clean` | æ¸…ç†æ„å»ºäº§ç‰© |
| `make init` | åˆå§‹åŒ–é¡¹ç›®ï¼ˆè®¾ç½®æƒé™ï¼‰ |
| `make init-template` | ç”Ÿæˆé»˜è®¤ Word æ¨¡æ¿ |
| `make help` | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |

## ç¼–å†™æ–°æ–‡æ¡£æµç¨‹

è¦åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ç¼–å†™å¹¶ç”Ÿæˆä¸€ä¸ªæ–°æ–‡æ¡£ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### 1. å‡†å¤‡æ–‡æ¡£å†…å®¹ (Markdown)
åœ¨ [`src/`](src/) ç›®å½•ä¸‹åˆ›å»ºæˆ–ç¼–è¾‘ Markdown æ–‡ä»¶ã€‚ä½ å¯ä»¥å°†æ–‡æ¡£æ‹†åˆ†ä¸ºå¤šä¸ªæ¨¡å—ï¼ˆä¾‹å¦‚ `01-intro.md`, `02-content.md`ï¼‰ï¼Œè¿™æ ·æ–¹ä¾¿åç»­çµæ´»ç»„åˆã€‚
- å¦‚æœæœ‰å›¾ç‰‡ï¼Œè¯·æ”¾å…¥ [`src/images/`](src/images/) å¹¶åœ¨ Markdown ä¸­ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨ã€‚

### 2. é…ç½®æ–‡æ¡£ç»“æ„
ä½ éœ€è¦å‘Šè¯‰ç³»ç»Ÿå“ªäº›æ–‡ä»¶åº”è¯¥è¢«åŒ…å«åœ¨æœ€ç»ˆçš„ Word æ–‡æ¡£ä¸­ã€‚
- **ä¿®æ”¹é»˜è®¤é…ç½®**ï¼šç¼–è¾‘ [`clients/default/config.yaml`](clients/default/config.yaml)ï¼Œåœ¨ `modules` åˆ—è¡¨ä¸­æ·»åŠ ä½ çš„ Markdown æ–‡ä»¶è·¯å¾„ã€‚
- **æˆ–è€…åˆ›å»ºæ–°å®¢æˆ·é…ç½®**ï¼šåœ¨ [`clients/`](clients/) ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼ˆå¦‚ `my-doc/`ï¼‰ï¼Œå¹¶å‚è€ƒ `default` ç›®å½•åˆ›å»ºè‡ªå·±çš„ `config.yaml`ã€‚

### 3. è®¾ç½®æ–‡æ¡£å…ƒæ•°æ®
å…ƒæ•°æ®å†³å®šäº† Word æ–‡æ¡£çš„æ ‡é¢˜ã€ä½œè€…ã€æ—¥æœŸç­‰ä¿¡æ¯ã€‚
- ç¼–è¾‘ [`src/metadata.yaml`](src/metadata.yaml) è®¾ç½®å…¨å±€é»˜è®¤å€¼ã€‚
- å¦‚æœéœ€è¦ä¸ºç‰¹å®šæ–‡æ¡£è¦†ç›–è¿™äº›å€¼ï¼Œå¯ä»¥åœ¨å¯¹åº”çš„å®¢æˆ·æ–‡ä»¶å¤¹ä¸‹ç¼–è¾‘ `metadata.yaml`ã€‚

### 4. ç”Ÿæˆ Word æ–‡æ¡£
åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
- **ä½¿ç”¨é»˜è®¤é…ç½®æ„å»º**ï¼š`make`
- **ä½¿ç”¨ç‰¹å®šå®¢æˆ·é…ç½®æ„å»º**ï¼š`make client=my-doc`ï¼ˆå‡è®¾ä½ çš„é…ç½®æ–‡ä»¶å¤¹åä¸º `my-doc`ï¼‰

### 5. æŸ¥çœ‹ç»“æœ
æ„å»ºæˆåŠŸåï¼Œç”Ÿæˆçš„ Word æ–‡æ¡£å°†å­˜æ”¾åœ¨ [`build/`](build/) ç›®å½•ä¸‹ã€‚

## æ·»åŠ æ–°å®¢æˆ·

1. åœ¨ `clients/` ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶å¤¹ï¼Œå¦‚ `clients/new-client/`
2. åˆ›å»º `config.yaml` é…ç½®æ–‡ä»¶
3. åˆ›å»º `metadata.yaml` å…ƒæ•°æ®æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
4. å¦‚éœ€ä¸“å±æ¨¡æ¿ï¼Œåœ¨ `templates/` ä¸‹æ·»åŠ å¯¹åº”çš„ `.docx` æ–‡ä»¶

è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [CONTRIBUTING.md](CONTRIBUTING.md)ã€‚

## è®¸å¯è¯

MIT License
